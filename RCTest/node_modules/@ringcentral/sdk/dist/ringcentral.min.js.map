{"version":3,"sources":["webpack://RingCentral.SDK/webpack/universalModuleDefinition","webpack://RingCentral.SDK/webpack/bootstrap","webpack://RingCentral.SDK/../node_modules/node-libs-browser/node_modules/events/events.js","webpack://RingCentral.SDK/../node_modules/webpack/buildin/global.js","webpack://RingCentral.SDK/./src/core/Constants.ts","webpack://RingCentral.SDK/./src/http/Client.ts","webpack://RingCentral.SDK/../node_modules/querystring-es3/index.js","webpack://RingCentral.SDK/./src/SDK.ts","webpack://RingCentral.SDK/./src/core/Cache.ts","webpack://RingCentral.SDK/./src/core/Externals.ts","webpack://RingCentral.SDK/../node_modules/querystring-es3/decode.js","webpack://RingCentral.SDK/../node_modules/querystring-es3/encode.js","webpack://RingCentral.SDK/../node_modules/is-plain-object/index.js","webpack://RingCentral.SDK/../node_modules/isobject/index.js","webpack://RingCentral.SDK/./src/platform/Platform.ts","webpack://RingCentral.SDK/../node_modules/node-libs-browser/node_modules/buffer/index.js","webpack://RingCentral.SDK/../node_modules/base64-js/index.js","webpack://RingCentral.SDK/../node_modules/ieee754/index.js","webpack://RingCentral.SDK/../node_modules/isarray/index.js","webpack://RingCentral.SDK/./src/platform/Auth.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","EventEmitter","init","this","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","that","_addListener","type","listener","prepend","events","existing","TypeError","newListener","emit","unshift","push","length","warned","w","Error","String","emitter","count","warning","console","warn","ProcessEmitWarning","_onceWrap","state","fired","wrapFn","wrapped","arguments","removeListener","_listeners","unwrap","evlistener","arr","ret","Array","unwrapListeners","arrayClone","listenerCount","copy","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","len","listeners","addListener","on","prependListener","once","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","keys","rawListeners","eventNames","g","eval","e","version","authResponseProperty","events_1","__importDefault","qs","__importStar","is_plain_object_1","findHeaderName","headers","toLowerCase","reduce","res","Client","_super","_a","externals","_b","defaultRequestInit","_this","_defaultRequestInit","_externals","__extends","sendRequest","request","beforeRequest","_loadResponse","response","sent","ok","requestSuccess","makeError","e_1","requestError","fetch","originalMessage","_c","createRequest","__assign","url","method","toUpperCase","_allowedMethods","indexOf","credentials","query","includes","stringify","Accept","_jsonContentType","default","body","contentTypeHeaderName","_contentType","contentType","JSON","_urlencodedContentType","req","Request","originalBody","_isContentType","getContentType","isMultipart","_multipartContentType","isJson","toMultipart","multipart","text","boundary","match","parts","toString","split","_boundarySeparator","trim","_create","status","statusText","json","statusInfo","map","part","replace","Headers","headersAndBody","_bodySeparator","headersText","join","forEach","header","_headerSeparator","append","Response","skipOKCheck","msg","clone","error_description","description","event","_unauthorizedStatus","_rateLimitStatus","decode","parse","encode","Cache_1","Cache","Externals_1","Externals","Constants","Client_1","Platform_1","defaultExternals","setDefaultExternals","SDK","options","send","__awaiter","__generator","platform","post","put","patch","delete","login","ensureLoggedIn","loginUrl","createUrl","path","signUrl","parseLoginRedirect","logout","loginWindow","refresh","client","cachePrefix","handleRateLimit","_cache","prefix","_client","_platform","cache","handleLoginRedirect","origin","win","location","search","hash","opener","postMessage","server","sandbox","production","defaultPrefix","_prefix","setItemSync","data","localStorage","setItem","_prefixKey","removeItemSync","removeItem","getItemSync","item","getItem","_keys","clean","Promise","all","startsWith","global","fetchImpl","RequestImpl","ResponseImpl","HeadersImpl","obj","prop","sep","eq","regexp","maxKeys","kstr","vstr","k","v","x","idx","substr","decodeURIComponent","isArray","xs","stringifyPrimitive","isFinite","objectKeys","ks","encodeURIComponent","f","isObject","isObjectObject","ctor","prot","constructor","val","Auth_1","delay","timeout","resolve","reject","setTimeout","getParts","separator","reverse","Platform","clientId","clientSecret","redirectUri","refreshDelayMs","_d","clearCacheOnRefreshError","_e","appName","_f","appVersion","refreshHandicapMs","_g","tokenEndpoint","_h","revokeEndpoint","_j","authorizeEndpoint","_k","authProxy","_l","urlPrefix","_server","_clientId","_clientSecret","_redirectUri","_refreshDelayMs","_clearCacheOnRefreshError","_authProxy","_urlPrefix","_userAgent","_refreshPromise","_auth","cacheId","_cacheId","_tokenEndpoint","_revokeEndpoint","_authorizeEndpoint","_handleRateLimit","auth","builtUrl","hasHttp","addServer","addMethod","access_token","implicit","brandId","display","prompt","uiOptions","uiLocales","localeId","response_type","redirect_uri","client_id","brand_id","ui_options","ui_locales","queryString","width","height","dualScreenLeft","screenLeft","dualScreenTop","screenTop","screenWidth","screen","screenHeight","left","top","open","focus","eventListener","close","addEventListener","loginOptions","code","loggedIn","username","password","extension","access_token_ttl","refresh_token_ttl","endpoint_id","__rest","beforeLogin","grant_type","_tokenRequest","setData","loginSuccess","loginError","e_2","_refresh","beforeRefresh","authData","refresh_token","refreshTokenValid","expires_in","refresh_token_expires_in","refreshSuccess","refreshError","e_3","e_4","beforeLogout","token","logoutSuccess","logoutError","e_5","inflateRequest","skipAuthCheck","authHeader","retry","e_6","status_1","retryAfter","cancelAccessToken","defaultRetryAfter","parseFloat","rateLimitError","accessTokenValid","Authorization","basicAuthHeader","Content-Type","apiKey","btoa","Buffer","from","token_type","LoginUrlPrompt","LoginUrlDisplay","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","Uint8Array","__proto__","encodingOrOffset","allocUnsafe","ArrayBuffer","array","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","isBuffer","checked","buffer","isnan","fromObject","assertSize","size","isView","loweredCase","utf8ToBytes","base64ToBytes","swap","b","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","parseInt","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64Slice","start","end","fromByteArray","utf8Slice","Math","min","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","a","y","pos","swap16","swap32","swap64","hexSlice","asciiSlice","latin1Slice","utf16leSlice","equals","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","toJSON","_arr","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","stringtrim","base64clean","src","dst","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","tripletToBase64","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","DEFAULT_RENEW_HANDICAP_MS","Auth","_refreshHandicapMs","expire_time","refresh_token_expire_time","scope","newData","Date","now"],"mappings":"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","file":"ringcentral.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SDK\"] = factory();\n\telse\n\t\troot[\"RingCentral\"] = root[\"RingCentral\"] || {}, root[\"RingCentral\"][\"SDK\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","const {version} = require('../../package.json'); //eslint-disable-line\n// do not use import here\nexport {version};\nexport const authResponseProperty = 'RCAuthorizationResponse';\n","import EventEmitter from 'events';\nimport * as qs from 'querystring';\nimport isPlainObject from 'is-plain-object';\nimport Externals from '../core/Externals';\n\nfunction findHeaderName(name, headers) {\n    name = name.toLowerCase();\n    return Object.keys(headers).reduce((res, key) => {\n        if (res) return res;\n        if (name === key.toLowerCase()) return key;\n        return res;\n    }, null);\n}\n\nexport interface ApiError extends Error {\n    originalMessage?: string;\n    response?: Response;\n    request?: Request;\n}\n\nexport interface ClientOptions {\n    externals: Externals;\n    defaultRequestInit: CreateRequestOptions;\n}\n\nexport enum events {\n    beforeRequest = 'beforeRequest',\n    requestSuccess = 'requestSuccess',\n    requestError = 'requestError',\n}\n\nexport default class Client extends EventEmitter {\n    public static _contentType = 'Content-Type';\n\n    public static _jsonContentType = 'application/json';\n\n    public static _multipartContentType = 'multipart/mixed';\n\n    public static _urlencodedContentType = 'application/x-www-form-urlencoded';\n\n    public static _headerSeparator = ':';\n\n    public static _bodySeparator = '\\n\\n';\n\n    public static _boundarySeparator = '--';\n\n    public static _unauthorizedStatus = 401;\n\n    public static _rateLimitStatus = 429;\n\n    public static _allowedMethods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'];\n\n    public static _defaultRequestInit: CreateRequestOptions = {\n        credentials: 'include',\n        mode: 'cors',\n    };\n\n    public events = events;\n\n    private _externals: Externals;\n\n    private _defaultRequestInit: CreateRequestOptions = {};\n\n    public constructor({externals, defaultRequestInit = {}}: ClientOptions) {\n        super();\n        this._defaultRequestInit = defaultRequestInit;\n        this._externals = externals;\n    }\n\n    public async sendRequest(request: Request): Promise<Response> {\n        let response;\n        try {\n            //TODO Stop request if listeners return false\n            this.emit(this.events.beforeRequest, request);\n\n            response = await this._loadResponse(request);\n\n            if (!response.ok) throw new Error('Response has unsuccessful status');\n\n            this.emit(this.events.requestSuccess, response, request);\n\n            return response;\n        } catch (e) {\n            const error = !e.response ? await this.makeError(e, response, request) : e;\n\n            this.emit(this.events.requestError, error);\n\n            throw error;\n        }\n    }\n\n    public async _loadResponse(request: Request): Promise<Response> {\n        return this._externals.fetch.call(null, request); // fixed illegal invocation in Chrome\n    }\n\n    /**\n     * Wraps the JS Error object with transaction information\n     */\n    public async makeError(e: any, response: Response = null, request: Request = null): Promise<ApiError> {\n        // Wrap only if regular error\n        if (!e.response && !e.originalMessage) {\n            e.response = response;\n            e.request = request;\n            e.originalMessage = e.message;\n            e.message = (response && (await this.error(response, true))) || e.originalMessage;\n        }\n\n        return e;\n    }\n\n    public createRequest(init: CreateRequestOptions = Client._defaultRequestInit): Request {\n        init = {...this._defaultRequestInit, ...init};\n        init.headers = init.headers || {};\n\n        // Sanity checks\n        if (!init.url) throw new Error('Url is not defined');\n        if (!init.method) init.method = 'GET';\n        init.method = init.method.toUpperCase();\n        if (init.method && Client._allowedMethods.indexOf(init.method) < 0) {\n            throw new Error(`Method has wrong value: ${init.method}`);\n        }\n\n        // Defaults\n        init.credentials = init.credentials || 'include';\n        init.mode = init.mode || 'cors';\n\n        // Append Query String\n        if (init.query) {\n            init.url = init.url + (init.url.includes('?') ? '&' : '?') + qs.stringify(init.query);\n        }\n\n        if (!findHeaderName('Accept', init.headers)) {\n            init.headers.Accept = Client._jsonContentType;\n        }\n\n        // Serialize body\n        if (isPlainObject(init.body) || !init.body) {\n            let contentTypeHeaderName = findHeaderName(Client._contentType, init.headers);\n\n            if (!contentTypeHeaderName) {\n                contentTypeHeaderName = Client._contentType;\n                init.headers[contentTypeHeaderName] = Client._jsonContentType;\n            }\n\n            const contentType = init.headers[contentTypeHeaderName];\n\n            // Assign a new encoded body\n            if (contentType.includes(Client._jsonContentType)) {\n                if ((init.method === 'GET' || init.method === 'HEAD') && !!init.body) {\n                    // oddly setting body to null still result in TypeError in phantomjs\n                    init.body = undefined;\n                } else {\n                    init.body = JSON.stringify(init.body);\n                }\n            } else if (contentType.includes(Client._urlencodedContentType)) {\n                init.body = qs.stringify(init.body);\n            }\n        }\n\n        // Create a request with encoded body\n        const req = new this._externals.Request(init.url, init);\n\n        // Keep the original body accessible directly (for mocks)\n        req.originalBody = init.body;\n\n        return req;\n    }\n\n    public _isContentType(contentType, response) {\n        return this.getContentType(response).includes(contentType);\n    }\n\n    public getContentType(response) {\n        return response.headers.get(Client._contentType) || '';\n    }\n\n    public isMultipart(response) {\n        return this._isContentType(Client._multipartContentType, response);\n    }\n\n    public isJson(response) {\n        return this._isContentType(Client._jsonContentType, response);\n    }\n\n    public async toMultipart(response: Response): Promise<Response[]> {\n        return this.isMultipart(response) ? this.multipart(response) : [response];\n    }\n\n    public async multipart(response: Response): Promise<Response[]> {\n        if (!this.isMultipart(response)) throw new Error('Response is not multipart');\n\n        // Step 1. Split multipart response\n\n        const text = await response.text();\n\n        if (!text) throw new Error('No response body');\n\n        let boundary;\n\n        try {\n            boundary = this.getContentType(response).match(/boundary=([^;]+)/i)[1]; //eslint-disable-line\n        } catch (e) {\n            throw new Error('Cannot find boundary');\n        }\n\n        if (!boundary) throw new Error('Cannot find boundary');\n\n        const parts = text.toString().split(Client._boundarySeparator + boundary);\n\n        if (parts[0].trim() === '') parts.shift();\n        if (parts[parts.length - 1].trim() === Client._boundarySeparator) parts.pop();\n\n        if (parts.length < 1) throw new Error('No parts in body');\n\n        // Step 2. Parse status info\n\n        const statusInfo = await this._create(parts.shift(), response.status, response.statusText).json();\n\n        // Step 3. Parse all other parts\n\n        return parts.map((part, i) => this._create(part, statusInfo.response[i].status));\n    }\n\n    /**\n     * Method is used to create Response object from string parts of multipart/mixed response\n     */\n    private _create(text = '', status = 200, statusText = 'OK'): Response {\n        text = text.replace(/\\r/g, '');\n\n        const headers = new this._externals.Headers();\n        const headersAndBody = text.split(Client._bodySeparator);\n        const headersText = headersAndBody.length > 1 ? headersAndBody.shift() : '';\n\n        text = headersAndBody.length > 0 ? headersAndBody.join(Client._bodySeparator) : null;\n\n        (headersText || '').split('\\n').forEach(header => {\n            const split = header.trim().split(Client._headerSeparator);\n            const key = split.shift().trim();\n            const value = split.join(Client._headerSeparator).trim();\n\n            if (key) headers.append(key, value);\n        });\n\n        return new this._externals.Response(text, {\n            headers,\n            status,\n            statusText,\n        });\n    }\n\n    public async error(response: Response, skipOKCheck = false): Promise<string> {\n        if (response.ok && !skipOKCheck) return null;\n\n        let msg = (response.status ? `${response.status} ` : '') + (response.statusText ? response.statusText : '');\n\n        try {\n            const {message, error_description, description} = await response.clone().json();\n\n            if (message) msg = message;\n            if (error_description) msg = error_description;\n            if (description) msg = description;\n        } catch (e) {} //eslint-disable-line\n\n        return msg;\n    }\n\n    public on(event: events.beforeRequest, listener: (request: Request) => void);\n    public on(event: events.requestSuccess, listener: (response: Response, request: Request) => void);\n    public on(event: events.requestError, listener: (error: ApiError) => void);\n    public on(event: string, listener: (...args) => void) {\n        return super.on(event, listener);\n    }\n}\n\nexport interface CreateRequestOptions extends RequestInit {\n    url?: string;\n    body?: any;\n    query?: any;\n    headers?: any;\n}\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","import EventEmitter from 'events';\nimport Cache from './core/Cache';\nimport Externals, {ExternalsOptions} from './core/Externals';\nimport * as Constants from './core/Constants';\nimport Client, {ApiError, CreateRequestOptions} from './http/Client';\nimport Platform, {\n    CreateUrlOptions,\n    LoginOptions,\n    LoginUrlOptions,\n    LoginWindowOptions,\n    PlatformOptions,\n    SendOptions,\n} from './platform/Platform';\nimport {AuthData} from './platform/Auth';\n\nexport {\n    Cache,\n    Externals,\n    LoginOptions,\n    LoginUrlOptions,\n    LoginWindowOptions,\n    CreateUrlOptions,\n    SendOptions,\n    AuthData,\n    EventEmitter,\n    ExternalsOptions,\n    CreateRequestOptions,\n    ApiError,\n};\n\nlet defaultExternals: ExternalsOptions = {};\n\nexport const setDefaultExternals = (externals: ExternalsOptions) => (defaultExternals = externals);\n\nexport class SDK {\n    private _externals: Externals;\n\n    private _cache: Cache;\n\n    private _client: Client;\n\n    private _platform: Platform;\n\n    public static version = Constants.version;\n\n    public static server = {\n        sandbox: 'https://platform.devtest.ringcentral.com',\n        production: 'https://platform.ringcentral.com',\n    };\n\n    public static handleLoginRedirect(origin, win) {\n        win = win || window;\n        const response = win.location.search ? win.location.search : win.location.hash;\n        const msg = {};\n        msg[Constants.authResponseProperty] = response;\n        win.opener.postMessage(msg, origin || win.location.origin);\n    }\n\n    public constructor(options: SDKOptions = {}) {\n        const {cachePrefix, defaultRequestInit, handleRateLimit} = options;\n\n        this._externals = new Externals({\n            ...defaultExternals,\n            ...options,\n        });\n\n        this._cache = new Cache({\n            externals: this._externals,\n            prefix: cachePrefix,\n        });\n\n        this._client = new Client({\n            externals: this._externals,\n            defaultRequestInit,\n        });\n\n        this._platform = new Platform({\n            ...options,\n            externals: this._externals,\n            client: this._client,\n            cache: this._cache,\n            handleRateLimit,\n        });\n    }\n\n    public platform() {\n        return this._platform;\n    }\n\n    public client() {\n        return this._client;\n    }\n\n    public cache() {\n        return this._cache;\n    }\n\n    /* istanbul ignore next */\n    public send = async (options: SendOptions): Promise<Response> => this.platform().send(options);\n\n    /* istanbul ignore next */\n    public get = async (url, query?, options?: SendOptions): Promise<Response> =>\n        this.platform().send({method: 'GET', url, query, ...options});\n\n    /* istanbul ignore next */\n    public post = async (url, body?, query?, options?: SendOptions): Promise<Response> =>\n        this.platform().send({method: 'POST', url, query, body, ...options});\n\n    /* istanbul ignore next */\n    public put = async (url, body?, query?, options?: SendOptions): Promise<Response> =>\n        this.platform().send({method: 'PUT', url, query, body, ...options});\n\n    /* istanbul ignore next */\n    public patch = async (url, body?, query?, options?: SendOptions): Promise<Response> =>\n        this.platform().send({method: 'PATCH', url, query, body, ...options});\n\n    /* istanbul ignore next */\n    public delete = async (url, query?, options?: SendOptions): Promise<Response> =>\n        this.platform().send({method: 'DELETE', url, query, ...options});\n\n    /* istanbul ignore next */\n    public login = async (options: LoginOptions): Promise<Response> => this.platform().login(options);\n\n    /* istanbul ignore next */\n    public ensureLoggedIn = async (): Promise<Response> => this.platform().ensureLoggedIn();\n\n    /* istanbul ignore next */\n    public loginUrl = (options: LoginUrlOptions): string => this.platform().loginUrl(options);\n\n    /* istanbul ignore next */\n    public createUrl = (path, options: CreateUrlOptions): string => this.platform().createUrl(path, options);\n\n    /* istanbul ignore next */\n    public signUrl = async (path): Promise<string> => this.platform().signUrl(path);\n\n    /* istanbul ignore next */\n    public parseLoginRedirect = (url): any => this.platform().parseLoginRedirect(url);\n\n    /* istanbul ignore next */\n    public logout = async (): Promise<Response> => this.platform().logout();\n\n    /* istanbul ignore next */\n    public loginWindow = async (options: LoginWindowOptions): Promise<LoginOptions> =>\n        this.platform().loginWindow(options);\n\n    /* istanbul ignore next */\n    public refresh = async (): Promise<Response> => this.platform().refresh();\n\n    /* istanbul ignore next */\n    public multipart = async (response: Response): Promise<Response[]> => this.client().multipart(response);\n\n    /* istanbul ignore next */\n    public getContentType = (response: Response): string => this.client().getContentType(response);\n\n    /* istanbul ignore next */\n    public isMultipart = (response: Response) => this.client().isMultipart(response);\n\n    /* istanbul ignore next */\n    public isJson = (response: Response) => this.client().isJson(response);\n\n    /* istanbul ignore next */\n    public error = (response: Response): Promise<string> => this.client().error(response);\n}\n\nexport interface SDKOptions extends PlatformOptions, ExternalsOptions {\n    cachePrefix?: string;\n    defaultRequestInit?: CreateRequestOptions;\n    handleRateLimit?: boolean | number;\n}\n\nexport default SDK;\n","import Externals from './Externals';\n\nexport interface CacheOptions {\n    prefix?: string;\n    externals: Externals;\n}\n\nexport default class Cache {\n    public static defaultPrefix = 'rc-';\n\n    private readonly _prefix = null;\n\n    private _externals = null;\n\n    public constructor({prefix = Cache.defaultPrefix, externals}: CacheOptions) {\n        this._prefix = prefix;\n        this._externals = externals;\n    }\n\n    public setItemSync(key, data) {\n        this._externals.localStorage.setItem(this._prefixKey(key), JSON.stringify(data));\n        return this;\n    }\n\n    public async setItem(key, data) {\n        this.setItemSync(key, data);\n    }\n\n    public removeItemSync(key) {\n        this._externals.localStorage.removeItem(this._prefixKey(key));\n        return this;\n    }\n\n    public async removeItem(key) {\n        await this.removeItemSync(key);\n    }\n\n    public getItemSync(key) {\n        const item = this._externals.localStorage.getItem(this._prefixKey(key));\n        if (!item) return null;\n        return JSON.parse(item);\n    }\n\n    public async getItem(key) {\n        return this.getItemSync(key);\n    }\n\n    private async _keys(): Promise<string[]> {\n        return 'keys' in this._externals.localStorage\n            ? this._externals.localStorage.keys() // could be async\n            : Object.keys(this._externals.localStorage);\n    }\n\n    public async clean() {\n        await Promise.all(\n            (await this._keys()).map(async key => {\n                if (key.startsWith(this._prefix)) {\n                    await this._externals.localStorage.removeItem(key);\n                }\n            }),\n        );\n\n        return this;\n    }\n\n    private _prefixKey(key: string) {\n        return this._prefix + key;\n    }\n}\n","const root =\n    (typeof window !== 'undefined' && window) ||\n    (typeof global !== 'undefined' && global) ||\n    (function getRoot() {\n        return this;\n    })();\n\nexport interface ExternalsOptions {\n    fetch?: typeof fetch;\n    Request?: typeof Request;\n    Response?: typeof Response;\n    Headers?: typeof Headers;\n    localStorage?: Storage;\n}\n\nexport default class Externals implements ExternalsOptions {\n    public fetch = root.fetch;\n\n    public Request = root.Request;\n\n    public Response = root.Response;\n\n    public Headers = root.Headers;\n\n    public localStorage = root.localStorage;\n\n    public constructor({\n        fetch: fetchImpl,\n        Request: RequestImpl,\n        Response: ResponseImpl,\n        Headers: HeadersImpl,\n        localStorage,\n    }: ExternalsOptions = {}) {\n        if (fetchImpl) this.fetch = fetchImpl;\n        if (RequestImpl) this.Request = RequestImpl;\n        if (ResponseImpl) this.Response = ResponseImpl;\n        if (HeadersImpl) this.Headers = HeadersImpl;\n        if (localStorage) this.localStorage = localStorage;\n\n        /* istanbul ignore next */\n        if (!this.fetch || !this.Response || !this.Request || !this.Headers) {\n            throw new Error('Fetch API is missing');\n        }\n\n        /* istanbul ignore next */\n        if (!this.localStorage) {\n            throw new Error('LocalStorage is missing');\n        }\n    }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","import EventEmitter from 'events';\nimport * as qs from 'querystring';\nimport Auth, {AuthOptions} from './Auth';\nimport * as Constants from '../core/Constants';\nimport Cache from '../core/Cache';\nimport Client, {ApiError} from '../http/Client';\nimport Externals from '../core/Externals';\n\ndeclare const screen: any; //FIXME TS Crap\n\nconst delay = (timeout): Promise<any> =>\n    new Promise((resolve, reject) => {\n        setTimeout(() => {\n            resolve(null);\n        }, timeout);\n    });\n\nconst getParts = (url, separator) => url.split(separator).reverse()[0];\n\nexport enum events {\n    beforeLogin = 'beforeLogin',\n    loginSuccess = 'loginSuccess',\n    loginError = 'loginError',\n    beforeRefresh = 'beforeRefresh',\n    refreshSuccess = 'refreshSuccess',\n    refreshError = 'refreshError',\n    beforeLogout = 'beforeLogout',\n    logoutSuccess = 'logoutSuccess',\n    logoutError = 'logoutError',\n    rateLimitError = 'rateLimitError',\n}\n\nexport default class Platform extends EventEmitter {\n    public static _cacheId = 'platform';\n\n    public events = events;\n\n    private _server: string;\n\n    private _clientId: string;\n\n    private _clientSecret: string;\n\n    private _redirectUri: string;\n\n    private _refreshDelayMs: number;\n\n    private _clearCacheOnRefreshError: boolean;\n\n    private _userAgent: string;\n\n    private _externals: Externals;\n\n    private _cache: Cache;\n\n    private _client: Client;\n\n    private _refreshPromise: Promise<any>;\n\n    private _auth: Auth;\n\n    private _tokenEndpoint;\n\n    private _revokeEndpoint;\n\n    private _authorizeEndpoint;\n\n    private _authProxy;\n\n    private _urlPrefix;\n\n    private _handleRateLimit: boolean | number;\n\n    public constructor({\n        server,\n        clientId,\n        clientSecret,\n        redirectUri = '',\n        refreshDelayMs = 100,\n        clearCacheOnRefreshError = true,\n        appName = '',\n        appVersion = '',\n        externals,\n        cache,\n        client,\n        refreshHandicapMs,\n        tokenEndpoint = '/restapi/oauth/token',\n        revokeEndpoint = '/restapi/oauth/revoke',\n        authorizeEndpoint = '/restapi/oauth/authorize',\n        authProxy = false,\n        urlPrefix = '',\n        handleRateLimit,\n    }: PlatformOptionsConstructor) {\n        super();\n\n        this._server = server;\n        this._clientId = clientId;\n        this._clientSecret = clientSecret;\n        this._redirectUri = redirectUri;\n        this._refreshDelayMs = refreshDelayMs;\n        this._clearCacheOnRefreshError = clearCacheOnRefreshError;\n        this._authProxy = authProxy;\n        this._urlPrefix = urlPrefix;\n        this._userAgent = `${appName ? `${appName + (appVersion ? `/${appVersion}` : '')} ` : ''}RCJSSDK/${\n            Constants.version\n        }`;\n\n        this._externals = externals;\n        this._cache = cache;\n        this._client = client;\n        this._refreshPromise = null;\n        this._auth = new Auth({\n            cache: this._cache,\n            cacheId: Platform._cacheId,\n            refreshHandicapMs,\n        });\n        this._tokenEndpoint = tokenEndpoint;\n        this._revokeEndpoint = revokeEndpoint;\n        this._authorizeEndpoint = authorizeEndpoint;\n        this._handleRateLimit = handleRateLimit;\n    }\n\n    public on(event: events.beforeLogin, listener: () => void);\n    public on(event: events.loginSuccess, listener: (response: Response) => void);\n    public on(event: events.loginError, listener: (error: ApiError | Error) => void);\n    public on(event: events.beforeRefresh, listener: () => void);\n    public on(event: events.refreshSuccess, listener: (response: Response) => void);\n    public on(event: events.refreshError, listener: (error: ApiError | Error) => void);\n    public on(event: events.beforeLogout, listener: () => void);\n    public on(event: events.logoutSuccess, listener: (response: Response) => void);\n    public on(event: events.logoutError, listener: (error: ApiError | Error) => void);\n    public on(event: events.rateLimitError, listener: (error: ApiError | Error) => void);\n    public on(event: string, listener: (...args) => void) {\n        return super.on(event, listener);\n    }\n\n    public auth() {\n        return this._auth;\n    }\n\n    public createUrl(path = '', options: CreateUrlOptions = {}) {\n        let builtUrl = '';\n\n        const hasHttp = path.startsWith('http://') || path.startsWith('https://');\n\n        if (options.addServer && !hasHttp) builtUrl += this._server;\n\n        if (this._urlPrefix) builtUrl += this._urlPrefix;\n\n        builtUrl += path;\n\n        if (options.addMethod) builtUrl += `${path.includes('?') ? '&' : '?'}_method=${options.addMethod}`;\n\n        return builtUrl;\n    }\n\n    public async signUrl(path: string) {\n        return `${path + (path.includes('?') ? '&' : '?')}access_token=${(await this._auth.data()).access_token}`;\n    }\n\n    public loginUrl({implicit, state, brandId, display, prompt, uiOptions, uiLocales, localeId}: LoginUrlOptions = {}) {\n        return this.createUrl(\n            `${this._authorizeEndpoint}?${qs.stringify({\n                response_type: implicit ? 'token' : 'code',\n                redirect_uri: this._redirectUri,\n                client_id: this._clientId,\n                state,\n                brand_id: brandId,\n                display,\n                prompt,\n                ui_options: uiOptions,\n                ui_locales: uiLocales,\n                localeId,\n            })}`,\n            {addServer: true},\n        );\n    }\n\n    /**\n     * @param {string} url\n     * @return {Object}\n     */\n    public parseLoginRedirect(url: string) {\n        const response =\n            (url.startsWith('#') && getParts(url, '#')) || (url.startsWith('?') && getParts(url, '?')) || null;\n\n        if (!response) throw new Error('Unable to parse response');\n\n        const queryString = qs.parse(response);\n\n        if (!queryString) throw new Error('Unable to parse response');\n\n        const error = queryString.error_description || queryString.error;\n\n        if (error) {\n            const e: any = new Error(error.toString());\n            e.error = queryString.error;\n            throw e;\n        }\n\n        return queryString;\n    }\n\n    /**\n     * Convenience method to handle 3-legged OAuth\n     *\n     * Attention! This is an experimental method and it's signature and behavior may change without notice.\n     */\n    public loginWindow({\n        url,\n        width = 400,\n        height = 600,\n        origin = window.location.origin,\n        property = Constants.authResponseProperty,\n        target = '_blank',\n    }: LoginWindowOptions): Promise<LoginOptions> {\n        return new Promise((resolve, reject) => {\n            if (typeof window === 'undefined') throw new Error('This method can be used only in browser');\n\n            if (!url) throw new Error('Missing mandatory URL parameter');\n\n            const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : 0;\n            const dualScreenTop = window.screenTop !== undefined ? window.screenTop : 0;\n\n            const screenWidth = screen.width;\n            const screenHeight = screen.height;\n\n            const left = screenWidth / 2 - width / 2 + dualScreenLeft;\n            const top = screenHeight / 2 - height / 2 + dualScreenTop;\n\n            const win = window.open(\n                url,\n                '_blank',\n                target === '_blank'\n                    ? `scrollbars=yes, status=yes, width=${width}, height=${height}, left=${left}, top=${top}`\n                    : '',\n            );\n\n            if (!win) {\n                throw new Error('Could not open login window. Please allow popups for this site');\n            }\n\n            if (win.focus) win.focus();\n\n            const eventListener = e => {\n                try {\n                    if (e.origin !== origin) return;\n                    if (!e.data || !e.data[property]) return; // keep waiting\n\n                    win.close();\n                    window.addEventListener('message', eventListener);\n\n                    const loginOptions = this.parseLoginRedirect(e.data[property]);\n\n                    if (!loginOptions.code && !loginOptions.access_token)\n                        throw new Error('No authorization code or token');\n\n                    resolve(loginOptions);\n                } catch (e) {\n                    reject(e);\n                }\n            };\n\n            window.addEventListener('message', eventListener, false);\n        });\n    }\n\n    /**\n     * @return {Promise<boolean>}\n     */\n    public async loggedIn() {\n        try {\n            if (this._authProxy) {\n                await this.get('/restapi/v1.0/client-info'); // we only can determine the status if we actually make request\n            } else {\n                await this.ensureLoggedIn();\n            }\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    public async login({\n        username,\n        password,\n        extension = '',\n        code,\n        access_token_ttl,\n        refresh_token_ttl,\n        access_token,\n        endpoint_id,\n        ...options\n    }: LoginOptions = {}): Promise<Response> {\n        try {\n            this.emit(this.events.beforeLogin);\n\n            const body: any = {};\n            let response = null;\n            let json;\n\n            if (access_token) {\n                //TODO Potentially make a request to /oauth/tokeninfo\n                json = {access_token, ...options};\n            } else {\n                if (!code) {\n                    body.grant_type = 'password';\n                    body.username = username;\n                    body.password = password;\n                    body.extension = extension;\n                } else if (code) {\n                    //@see https://developers.ringcentral.com/legacy-api-reference/index.html#!#RefAuthorizationCodeFlow\n                    body.grant_type = 'authorization_code';\n                    body.code = code;\n                    body.redirect_uri = this._redirectUri;\n                }\n\n                if (access_token_ttl) body.access_token_ttl = access_token_ttl;\n                if (refresh_token_ttl) body.refresh_token_ttl = refresh_token_ttl;\n                if (endpoint_id) body.endpoint_id = endpoint_id;\n\n                response = await this._tokenRequest(this._tokenEndpoint, body);\n\n                json = await response.clone().json();\n            }\n\n            await this._auth.setData(json);\n\n            this.emit(this.events.loginSuccess, response);\n\n            return response;\n        } catch (e) {\n            if (this._clearCacheOnRefreshError) await this._cache.clean();\n\n            this.emit(this.events.loginError, e);\n\n            throw e;\n        }\n    }\n\n    private async _refresh(): Promise<Response> {\n        try {\n            this.emit(this.events.beforeRefresh);\n\n            await delay(this._refreshDelayMs);\n\n            const authData = await this.auth().data();\n\n            // Perform sanity checks\n            if (!authData.refresh_token) throw new Error('Refresh token is missing');\n            if (!this._auth.refreshTokenValid()) throw new Error('Refresh token has expired');\n\n            const res = await this._tokenRequest(this._tokenEndpoint, {\n                grant_type: 'refresh_token',\n                refresh_token: authData.refresh_token,\n                access_token_ttl: authData.expires_in + 1,\n                refresh_token_ttl: authData.refresh_token_expires_in + 1,\n            });\n\n            const json = await res.clone().json();\n\n            if (!json.access_token) {\n                throw await this._client.makeError(new Error('Malformed OAuth response'), res);\n            }\n\n            await this._auth.setData(json);\n\n            this.emit(this.events.refreshSuccess, res);\n\n            return res;\n        } catch (e) {\n            if (this._clearCacheOnRefreshError) {\n                await this._cache.clean();\n            }\n\n            this.emit(this.events.refreshError, e);\n\n            throw e;\n        }\n    }\n\n    public async refresh(): Promise<Response> {\n        if (this._authProxy) {\n            throw new Error('Refresh is not supported in Auth Proxy mode');\n        }\n        if (!this._refreshPromise) {\n            this._refreshPromise = (async () => {\n                try {\n                    const res = await this._refresh();\n                    this._refreshPromise = null;\n                    return res;\n                } catch (e) {\n                    this._refreshPromise = null;\n                    throw e;\n                }\n            })();\n        }\n\n        return this._refreshPromise;\n    }\n\n    public async logout(): Promise<Response> {\n        if (this._authProxy) {\n            throw new Error('Logout is not supported in Auth Proxy mode');\n        }\n        try {\n            this.emit(this.events.beforeLogout);\n\n            let res = null;\n\n            //FIXME https://developers.ringcentral.com/legacy-api-reference/index.html#!#RefRevokeToken.html requires secret\n            if (this._revokeEndpoint && this._clientSecret) {\n                res = await this._tokenRequest(this._revokeEndpoint, {\n                    token: (await this._auth.data()).access_token,\n                });\n            }\n\n            await this._cache.clean();\n\n            this.emit(this.events.logoutSuccess, res);\n\n            return res;\n        } catch (e) {\n            this.emit(this.events.logoutError, e);\n\n            throw e;\n        }\n    }\n\n    public async inflateRequest(request: Request, options: SendOptions = {}): Promise<Request> {\n        options = options || {};\n\n        request.headers.set('X-User-Agent', this._userAgent);\n\n        if (options.skipAuthCheck) return request;\n\n        await this.ensureLoggedIn();\n\n        request.headers.set('Client-Id', this._clientId);\n        if (!this._authProxy) request.headers.set('Authorization', await this.authHeader());\n\n        return request;\n    }\n\n    public async sendRequest(request: Request, options: SendOptions = {}): Promise<Response> {\n        try {\n            request = await this.inflateRequest(request, options);\n            return await this._client.sendRequest(request);\n        } catch (e) {\n            let {retry, handleRateLimit} = options;\n\n            // Guard is for errors that come from polling\n            if (!e.response || retry) throw e;\n\n            const {response} = e;\n            const {status} = response;\n\n            if ((status !== Client._unauthorizedStatus && status !== Client._rateLimitStatus) || this._authProxy)\n                throw e;\n\n            options.retry = true;\n\n            let retryAfter = 0;\n\n            if (status === Client._unauthorizedStatus) {\n                await this._auth.cancelAccessToken();\n            }\n\n            if (status === Client._rateLimitStatus) {\n                handleRateLimit = handleRateLimit || this._handleRateLimit;\n\n                const defaultRetryAfter =\n                    !handleRateLimit || typeof handleRateLimit === 'boolean' ? 60 : handleRateLimit;\n\n                // FIXME retry-after is custom header, by default, it can't be retrieved. Server should add header: 'Access-Control-Expose-Headers: retry-after'.\n                retryAfter = parseFloat(response.headers.get('retry-after') || defaultRetryAfter) * 1000;\n\n                e.retryAfter = retryAfter;\n\n                this.emit(this.events.rateLimitError, e);\n\n                if (!handleRateLimit) throw e;\n            }\n\n            await delay(retryAfter);\n            return this.sendRequest(this._client.createRequest(options), options);\n        }\n    }\n\n    public send(options: SendOptions = {}) {\n        //FIXME https://github.com/bitinn/node-fetch/issues/43\n        options.url = this.createUrl(options.url, {addServer: true});\n\n        return this.sendRequest(this._client.createRequest(options), options);\n    }\n\n    public async get(url, query?, options?: SendOptions): Promise<Response> {\n        return this.send({method: 'GET', url, query, ...options});\n    }\n\n    public async post(url, body?, query?, options?: SendOptions): Promise<Response> {\n        return this.send({method: 'POST', url, query, body, ...options});\n    }\n\n    public async put(url, body?, query?, options?: SendOptions): Promise<Response> {\n        return this.send({method: 'PUT', url, query, body, ...options});\n    }\n\n    public async patch(url, body?, query?, options?: SendOptions): Promise<Response> {\n        return this.send({method: 'PATCH', url, query, body, ...options});\n    }\n\n    public async delete(url, query?, options?: SendOptions): Promise<Response> {\n        return this.send({method: 'DELETE', url, query, ...options});\n    }\n\n    public async ensureLoggedIn(): Promise<Response | null> {\n        if (this._authProxy) return null;\n        if (await this._auth.accessTokenValid()) return null;\n        await this.refresh();\n        return null;\n    }\n\n    protected async _tokenRequest(url, body): Promise<Response> {\n        return this.send({\n            url,\n            body,\n            skipAuthCheck: true,\n            method: 'POST',\n            headers: {\n                Authorization: this.basicAuthHeader(),\n                'Content-Type': Client._urlencodedContentType,\n            },\n        });\n    }\n\n    public basicAuthHeader(): string {\n        const apiKey = this._clientId + (this._clientSecret ? `:${this._clientSecret}` : '');\n        return `Basic ${typeof btoa === 'function' ? btoa(apiKey) : Buffer.from(apiKey).toString('base64')}`;\n    }\n\n    public async authHeader(): Promise<string> {\n        const data = await this._auth.data();\n        return (data.token_type || 'Bearer') + (data.access_token ? ` ${data.access_token}` : '');\n    }\n}\n\nexport interface PlatformOptions extends AuthOptions {\n    server?: string;\n    clientId?: string;\n    clientSecret?: string;\n    redirectUri?: string;\n    refreshDelayMs?: number;\n    refreshHandicapMs?: number;\n    clearCacheOnRefreshError?: boolean;\n    appName?: string;\n    appVersion?: string;\n    tokenEndpoint?: string;\n    revokeEndpoint?: string;\n    authorizeEndpoint?: string;\n    authProxy?: boolean;\n    urlPrefix?: string;\n    handleRateLimit?: boolean | number;\n}\n\nexport interface PlatformOptionsConstructor extends PlatformOptions {\n    externals: Externals;\n    cache: Cache;\n    client: Client;\n}\n\nexport interface SendOptions {\n    url?: any;\n    body?: any;\n    method?: string;\n    query?: any;\n    headers?: any;\n    skipAuthCheck?: boolean;\n    handleRateLimit?: boolean | number;\n    retry?: boolean; // Will be set by this method if SDK makes second request\n}\n\nexport interface LoginOptions {\n    username?: string;\n    password?: string;\n    extension?: string;\n    code?: string;\n    access_token?: string;\n    access_token_ttl?: number;\n    refresh_token_ttl?: number;\n    endpoint_id?: string;\n}\n\nexport interface LoginUrlOptions {\n    state?: string;\n    brandId?: string;\n    display?: LoginUrlDisplay | string;\n    prompt?: LoginUrlPrompt | string;\n    implicit?: boolean;\n    uiOptions?: string;\n    uiLocales?: string;\n    localeId?: string;\n}\n\nexport enum LoginUrlPrompt {\n    login = 'login',\n    sso = 'sso',\n    consent = 'consent',\n    none = 'none',\n}\n\nexport enum LoginUrlDisplay {\n    page = 'page',\n    popup = 'popup',\n    touch = 'touch',\n    mobile = 'mobile',\n}\n\nexport interface CreateUrlOptions {\n    addServer?: boolean;\n    addMethod?: string;\n}\n\nexport interface LoginWindowOptions {\n    url: string;\n    width?: number;\n    height?: number;\n    origin?: string;\n    property?: string;\n    target?: string;\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","import Cache from '../core/Cache';\n\nconst DEFAULT_RENEW_HANDICAP_MS = 60 * 1000; // 1 minute\n\nexport interface AuthOptions {\n    refreshHandicapMs?: number;\n}\n\nexport interface AuthOptionsConstructor extends AuthOptions {\n    cache: Cache;\n    cacheId: string;\n}\n\nexport default class Auth {\n    private _cache: Cache;\n\n    private readonly _cacheId: string;\n\n    private readonly _refreshHandicapMs: number;\n\n    public constructor({cache, cacheId, refreshHandicapMs = DEFAULT_RENEW_HANDICAP_MS}: AuthOptionsConstructor) {\n        this._cache = cache;\n        this._cacheId = cacheId;\n        this._refreshHandicapMs = refreshHandicapMs;\n    }\n\n    public async data(): Promise<AuthData> {\n        return (\n            (await this._cache.getItem(this._cacheId)) || {\n                token_type: '',\n                access_token: '',\n                expire_time: 0,\n                expires_in: '',\n                refresh_token: '',\n                refresh_token_expires_in: '',\n                refresh_token_expire_time: 0,\n                scope: '',\n            }\n        );\n    }\n\n    public async setData(newData: AuthData = {}) {\n        const data = await this.data();\n\n        await this._cache.setItem(this._cacheId, {\n            ...data,\n            ...newData,\n            expire_time: Date.now() + parseInt(newData.expires_in, 10) * 1000,\n            refresh_token_expire_time: Date.now() + parseInt(newData.refresh_token_expires_in, 10) * 1000,\n        });\n    }\n\n    /**\n     * Check if there is a valid (not expired) access token\n     */\n    public async accessTokenValid() {\n        const authData = await this.data();\n        return authData.expire_time - this._refreshHandicapMs > Date.now();\n    }\n\n    /**\n     * Check if there is a valid (not expired) access token\n     */\n    public async refreshTokenValid() {\n        return (await this.data()).refresh_token_expire_time > Date.now();\n    }\n\n    public async cancelAccessToken() {\n        return this.setData({\n            access_token: '',\n            expires_in: '-1',\n        });\n    }\n}\n\nexport interface AuthData {\n    token_type?: string;\n    access_token?: string;\n    expires_in?: string;\n    expire_time?: number;\n    refresh_token?: string;\n    refresh_token_expires_in?: string;\n    refresh_token_expire_time?: number;\n    scope?: string;\n}\n"],"sourceRoot":""}